{"version":3,"sources":["userController.js","globalController.js","navController.js","galleryController.js","invitationController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["myApp.controller('userController', ['$scope', '$location', 'userModel', function($scope, $location, userModel) {\n    angular.extend($scope, {\n        login: {\n            username: 'reachme@amitavroy.com',\n            password: 'pass'\n        }\n    });\n\n    angular.extend($scope, {\n        doLogin: function(loginForm) {\n            var data = {\n                email: $scope.login.username,\n                password: $scope.login.password\n            };\n\n            userModel.doLogin(data).then(function() {\n                $location.path('/dashboard');\n            });\n        }\n    });\n}]);\n","myApp.controller('globalController', ['$scope', function($scope) {\n    $scope.global = {};\n    $scope.global.navUrl = 'templates/partials/nav.html';\n}]);\n","myApp.controller('navController', ['$scope', '$location', 'userModel', function($scope, $location, userModel) {\n    /*Variables*/\n    angular.extend($scope, {\n        user: userModel.getUserObject(),\n        navUrl: [{\n            link: 'Home',\n            url: '/dashboard',\n            subMenu: [{\n                link: 'View Gallery',\n                url: '/gallery/view'\n            }, {\n                link: 'Add Gallery',\n                url: '/gallery/add'\n            }]\n        }, {\n            link: 'View Gallery',\n            url: '/gallery/view'\n        }, {\n            link: 'Add Gallery',\n            url: '/gallery/add'\n        }, {\n            link: 'Invitations',\n            url: '/invitation/list'\n        }]\n    });\n\n    /*Methods*/\n    angular.extend($scope, {\n        doLogout: function() {\n            userModel.doUserLogout();\n            $location.path('/');\n        },\n        checkActiveLink: function(routeLink) {\n            if ($location.path() == routeLink) {\n                return 'make-active';\n            }\n        }\n    });\n}]);\n","myApp.controller('galleryController', ['$scope', '$location', 'galleryModel', '$timeout', '$routeParams', 'Lightbox', 'data',\n\n    function($scope, $location, galleryModel, $timeout, $routeParams, Lightbox, data) {\n\n        /*Getting all the galleries*/\n        if (data && data.galleries != undefined) {\n            data.galleries.success(function(response) {\n                $scope.galleries = response;\n                console.log('Galleries loaded', $scope.galleries);\n                $scope.showGallery = true;\n            });\n        }\n\n        /*Fetch a single gallery on the view gallery page*/\n        if (data && data.singleGallery != undefined) {\n            data.singleGallery.success(function(response) {\n                console.log('Gallery details', response);\n                $scope.singleGallery = response;\n            });\n        }\n\n        $scope.$on('imageAdded', function(event, args) {\n            $scope.singleGallery = args;\n            console.log('Inside event', $scope.singleGallery);\n            $scope.$apply();\n        });\n\n        /*Variables*/\n        angular.extend($scope, {\n            newGallery: {},\n            errorDiv: false,\n            errorMessages: [],\n            singleGallery: {},\n            dropzoneConfig: {\n                'options': {\n                    'url': baseUrl + 'upload-image'\n                },\n                'eventHandlers': {\n                    'sending': function(file, xhr, formData) {\n                        formData.append('_token', csrfToken);\n                        formData.append('galleryId', $routeParams.id);\n                    },\n                    'success': function(file, response) {\n                        console.log(response);\n                        $scope.singleGallery.images.push(response);\n                        console.log($scope.singleGallery);\n                        $scope.$emit('imageAdded', $scope.singleGallery);\n                    }\n                }\n            }\n        });\n\n        /*Functions*/\n        angular.extend($scope, {\n            saveNewGallery: function(addGalleryForm) {\n                console.log(addGalleryForm);\n                if (addGalleryForm.$valid) {\n                    $scope.formSubmitted = false;\n                    galleryModel.saveGallery($scope.newGallery).success(function(response) {\n                        $location.path('/gallery/view');\n                    });\n                } else {\n                    $scope.formSubmitted = true;\n                    console.log('Error');\n                }\n            },\n            viewGallery: function(id) {\n                $location.path('/gallery/' + id);\n            },\n            openLightboxModal: function(index) {\n                Lightbox.openModal($scope.singleGallery.images, index);\n            },\n            deleteImage: function(imageId) {\n                var data = {\n                    imageId: imageId,\n                    galleryId: $routeParams.id\n                };\n                galleryModel.deleteSingleImage(data).success(function(response) {\n                    console.log('response', response);\n                    $scope.singleGallery = response;\n                });\n            }\n        });\n    }\n]);\n","myApp.controller('invitationController', ['$scope',\n    function($scope) {\n        /*variables*/\n        angular.extend($scope, {\n            newInvite: {}\n        });\n\n        /*methods*/\n        angular.extend($scope, {\n            sendInvite: function(sendInviteForm) {\n                if (sendInviteForm.$valid) {\n                    console.log('newInvite', $scope.newInvite);\n                }\n            }\n        });\n    }\n]);\n"],"sourceRoot":"/source/"}